# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ diagram-service

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –£—Ç–∏–ª–∏—Ç—ã (src/utils/)
- ‚úÖ **image_utils.py** - –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
  - –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
  - –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ (CLAHE)
  - –£–¥–∞–ª–µ–Ω–∏–µ —à—É–º–∞
  
- ‚úÖ **graph_utils.py** - –†–∞–±–æ—Ç–∞ —Å –≥—Ä–∞—Ñ–∞–º–∏ NetworkX
  - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤
  - –ü–æ–∏—Å–∫ —Ü–∏–∫–ª–æ–≤
  - –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≥—Ä–∞—Ñ ‚Üî dict
  - –†–∞—Å—á–µ—Ç —É—Ä–æ–≤–Ω–µ–π —É–∑–ª–æ–≤

### 2. Preprocessing (src/preprocessing/)
- ‚úÖ **image_preprocessor.py** - –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ (max 1920px)
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ RGB
  - –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
  - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ OCR
  
- ‚úÖ **text_preprocessor.py** - –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞
  - –û—á–∏—Å—Ç–∫–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
  - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
  - –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

### 3. ML Pipeline - –ü—Ä—è–º–∞—è –∑–∞–¥–∞—á–∞ (src/ml_pipeline/)
- ‚úÖ **detector.py** - YOLOv8 –¥–µ—Ç–µ–∫—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - –ö–ª–∞—Å—Å `DiagramDetector`
  - –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ YOLOv8n
  - –î–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ confidence
  - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Ñ–æ—Ä–º–µ
  - Non-Maximum Suppression
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CPU/GPU
  
- ‚úÖ **ocr.py** - PaddleOCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
  - –ö–ª–∞—Å—Å `TextRecognizer`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
  - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ bounding boxes
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ confidence threshold
  
- ‚úÖ **graph_constructor.py** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
  - –ö–ª–∞—Å—Å `GraphConstructor`
  - –°–æ–∑–¥–∞–Ω–∏–µ NetworkX –≥—Ä–∞—Ñ–∞ –∏–∑ bbox –∏ —Ç–µ–∫—Å—Ç–∞
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –ø–æ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ)
  - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è start/end —É–∑–ª–æ–≤
  - –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  
- ‚úÖ **semantic_interpreter.py** - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
  - –ö–ª–∞—Å—Å `SemanticInterpreter`
  - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ (start, end, process, decision, data)
  - –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ (—É—Å–ª–æ–≤–∏—è, –≤–µ—Ç–≤–ª–µ–Ω–∏—è)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
  - –†–∞—Å—á–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### 4. Generative Pipeline - –û–±—Ä–∞—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ (src/generative_pipeline/)
- ‚úÖ **text_parser.py** - –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ –≤ –≥—Ä–∞—Ñ
  - –ö–ª–∞—Å—Å `TextToGraphParser`
  - Rule-based –ø–∞—Ä—Å–∏–Ω–≥ —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π (if/else)
  - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è start/end —É–∑–ª–æ–≤
  - –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  
- ‚úÖ **visualizer.py** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞
  - –ö–ª–∞—Å—Å `GraphVisualizer`
  - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ pygraphviz (–æ—Å–Ω–æ–≤–Ω–æ–π)
  - Fallback –Ω–∞ matplotlib
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ layout
  - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —É–∑–ª–æ–≤ –ø–æ —Ç–∏–ø–∞–º
  - –≠–∫—Å–ø–æ—Ä—Ç –≤ PNG
  
- ‚úÖ **code_generator.py** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –¥–∏–∞–≥—Ä–∞–º–º
  - –ö–ª–∞—Å—Å `DiagramCodeGenerator`
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PlantUML –∫–æ–¥–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Mermaid –∫–æ–¥–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å–ª–æ–≤–Ω—ã—Ö –≤–µ—Ç–≤–ª–µ–Ω–∏–π
  - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 5. Postprocessing (src/postprocessing/)
- ‚úÖ **formatter.py** - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
  - –ö–ª–∞—Å—Å `ResponseFormatter`
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON –æ—Ç–≤–µ—Ç–∞
  - –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ base64
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≥—Ä–∞—Ñ ‚Üí Pydantic –º–æ–¥–µ–ª–∏
  
- ‚úÖ **template_engine.py** - –®–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è
  - –ö–ª–∞—Å—Å `TemplateEngine`
  - –ó–∞–≥—Ä—É–∑–∫–∞ Jinja2 —à–∞–±–ª–æ–Ω–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π
  - Fallback –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é

### 6. Jinja2 —à–∞–±–ª–æ–Ω—ã (templates/)
- ‚úÖ **algorithm_description.j2** - –®–∞–±–ª–æ–Ω –æ–ø–∏—Å–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–≥–æ–≤
  - –û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–π
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥—Ä–∞—Ñ–∞

### 7. API Integration (src/api/routes/)
- ‚úÖ **analyze.py** - –≠–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä—è–º–æ–π –∑–∞–¥–∞—á–∏
  - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ML pipeline
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - –î–µ—Ç–µ–∫—Ü–∏—è + OCR + –≥—Ä–∞—Ñ + –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
  
- ‚úÖ **generate.py** - –≠–Ω–¥–ø–æ–∏–Ω—Ç –æ–±—Ä–∞—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏
  - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è generative pipeline
  - –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **–£—Ç–∏–ª–∏—Ç—ã**: 2 —Ñ–∞–π–ª–∞
- **Preprocessing**: 2 —Ñ–∞–π–ª–∞
- **ML Pipeline**: 4 —Ñ–∞–π–ª–∞
- **Generative Pipeline**: 3 —Ñ–∞–π–ª–∞
- **Postprocessing**: 2 —Ñ–∞–π–ª–∞
- **–®–∞–±–ª–æ–Ω—ã**: 1 —Ñ–∞–π–ª
- **API Integration**: 2 —Ñ–∞–π–ª–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω—ã)

**–í—Å–µ–≥–æ**: 16 –Ω–æ–≤—ã—Ö/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)
- **–£—Ç–∏–ª–∏—Ç—ã**: ~400 —Å—Ç—Ä–æ–∫
- **Preprocessing**: ~200 —Å—Ç—Ä–æ–∫
- **ML Pipeline**: ~800 —Å—Ç—Ä–æ–∫
- **Generative Pipeline**: ~600 —Å—Ç—Ä–æ–∫
- **Postprocessing**: ~300 —Å—Ç—Ä–æ–∫
- **API Integration**: ~200 —Å—Ç—Ä–æ–∫

**–í—Å–µ–≥–æ**: ~2500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- ‚úÖ **ultralytics** (YOLOv8) - –¥–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ **paddleocr** - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ **opencv-python** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **networkx** - —Ä–∞–±–æ—Ç–∞ —Å –≥—Ä–∞—Ñ–∞–º–∏
- ‚úÖ **jinja2** - —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è
- ‚úÖ **pygraphviz** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ **matplotlib** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (fallback)
- ‚úÖ **numpy** - —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- ‚úÖ **pillow** - —Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ü—Ä—è–º–∞—è –∑–∞–¥–∞—á–∞ (image ‚Üí text)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã
- ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å–≤—è–∑–µ–π
- ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –æ—Ç–≤–µ—Ç–∞

### –û–±—Ä–∞—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ (text ‚Üí diagram)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –≤ –≥—Ä–∞—Ñ–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ (PNG)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (PlantUML/Mermaid)
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –æ—Ç–≤–µ—Ç–∞

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   cd diagram-service
   poetry install
   ```

2. **–°–∫–∞—á–∞—Ç—å ML –º–æ–¥–µ–ª–∏**
   ```bash
   poetry run python scripts/download_models.py
   ```

3. **–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª**
   ```bash
   cp .env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å**
   ```bash
   poetry run uvicorn src.api.main:app --reload
   ```

5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API**
   ```bash
   poetry run python scripts/test_service.py
   ```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

- [ ] –î–æ–æ–±—É—á–µ–Ω–∏–µ YOLOv8 –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ü–∏–∫–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–∞—Ö
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ NLP –º–æ–¥–µ–ª–∏ (spaCy/Natasha)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Streamlit UI
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ unit —Ç–µ—Å—Ç–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **YOLOv8n** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å –±–µ–∑ –¥–æ–æ–±—É—á–µ–Ω–∏—è –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞—Ö
2. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø—Ä–æ—Å—Ç—ã—Ö —ç–≤—Ä–∏—Å—Ç–∏–∫–∞—Ö (—Ñ–æ—Ä–º–∞ bbox)
3. **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç rule-based –ø–æ–¥—Ö–æ–¥ (–±–µ–∑ ML)
4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ graphviz (—Å–∏—Å—Ç–µ–º–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
5. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫** –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π)

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü—Ä—è–º–∞—è –∑–∞–¥–∞—á–∞
- –î–µ—Ç–µ–∫—Ü–∏—è –¥–æ 100+ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å–≤—è–∑–µ–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è

### –û–±—Ä–∞—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞
- –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º/–∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–∏–∞–≥—Ä–∞–º–º
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PlantUML/Mermaid –∫–æ–¥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å–ª–æ–≤–Ω—ã—Ö –≤–µ—Ç–≤–ª–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π layout (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π)

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

- ‚úÖ –î–≤—É—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å (–ø—Ä—è–º–∞—è + –æ–±—Ä–∞—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞)
- ‚úÖ FastAPI —Å –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ YOLOv8 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏
- ‚úÖ PaddleOCR –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
- ‚úÖ NetworkX –¥–ª—è –≥—Ä–∞—Ñ–æ–≤
- ‚úÖ Graphviz –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ Jinja2 –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CPU –∏ GPU
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ loguru
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON –≤—ã–≤–æ–¥
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: 3 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç–∞—Ç—É—Å**: –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
